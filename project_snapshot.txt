
--- File: src/utils/__init__.py ---
from .get_project_root import get_project_root

__all__ = [
    "get_project_root",
]
--- File: src/utils/create_snapshot.py ---
import os

from src.utils.get_project_root import get_project_root

# === Output files live in the project root ===
SNAPSHOT_NAME = "project_snapshot.txt"
TREE_NAME = "project_tree.txt"

# Items to capture from the new structure: some inside src/, others in root
BASE_ITEMS = [
    "src",
    "README.md",
    "pyproject.toml",
    "output",
    "main.py",
]

# Exclusions while walking
EXCLUDED_DIRS = {
    ".git",
    ".venv",
    "__pycache__",
    ".mypy_cache",
    ".ruff_cache",
    ".pytest_cache",
    ".idea",
    ".vscode",
}
VALID_EXT = (
    ".py",
    ".md",
    ".txt",
    ".log",
    ".toml",
    ".cfg",
    ".ini",
    ".yml",
    ".yaml",
    ".json",
)


def is_text_file(path):
    """Try to open the file as UTF-8. If it fails, treat it as non-text."""
    try:
        with open(path, "r", encoding="utf-8") as f:
            f.read()
        return True
    except Exception:
        return False


def explore(path_abs, root_abs, snapshot_out, tree_out, prefix=""):
    """Explore directories and record file tree and snapshots relative to project root."""
    rel = os.path.relpath(path_abs, root_abs)

    if os.path.isfile(path_abs):
        if path_abs.endswith(VALID_EXT) and is_text_file(path_abs):
            snapshot_out.write(f"\n--- File: {rel} ---\n")
            with open(path_abs, "r", encoding="utf-8") as f:
                snapshot_out.write(f.read())
        tree_out.write(f"{prefix}ðŸ“„ {rel}\n")
        return

    for current, dirs, files in os.walk(path_abs):
        dirs[:] = [d for d in dirs if d not in EXCLUDED_DIRS and not d.startswith(".")]
        level = os.path.relpath(current, path_abs).count(os.sep)
        indent = "â”‚   " * level + "â”œâ”€â”€ "
        rel_current = os.path.relpath(current, root_abs)
        tree_out.write(f"{indent}ðŸ“ {rel_current}/\n")

        for filename in files:
            if filename.startswith(".") or not filename.endswith(VALID_EXT):
                continue
            file_path = os.path.join(current, filename)
            rel_file = os.path.relpath(file_path, root_abs)
            if is_text_file(file_path):
                snapshot_out.write(f"\n--- File: {rel_file} ---\n")
                with open(file_path, "r", encoding="utf-8") as f:
                    snapshot_out.write(f.read())
            tree_out.write(f"{'â”‚   ' * (level + 1)}ðŸ“„ {filename}\n")


def main():
    root = get_project_root(__file__)
    snapshot_path = os.path.join(root, SNAPSHOT_NAME)
    tree_path = os.path.join(root, TREE_NAME)

    with (
        open(snapshot_path, "w", encoding="utf-8") as snapshot_out,
        open(tree_path, "w", encoding="utf-8") as tree_out,
    ):
        for item in BASE_ITEMS:
            abs_item = os.path.join(root, item)
            if os.path.exists(abs_item):
                explore(abs_item, root, snapshot_out, tree_out)
            else:
                rel_item = os.path.relpath(abs_item, root)
                msg = f"[Path not found: {rel_item}]"
                snapshot_out.write(f"\n{msg}\n")
                tree_out.write(f"ðŸš« {msg}\n")

    print("âœ… Snapshot and directory tree generated at project root.")


if __name__ == "__main__":
    main()
--- File: src/utils/get_project_root.py ---
import os


def get_project_root(start: str | None = None) -> str:
    """
    Locate the absolute path of the project root.

    Search upward from `start` (or this file) until a directory
    containing either `pyproject.toml` or `.git` is found.
    Falls back four levels up from src/functions/internal if none found.

    Returns:
        str: Absolute path to the project root directory.
    """
    cur = os.path.abspath(start or __file__)
    if os.path.isfile(cur):
        cur = os.path.dirname(cur)

    while True:
        if os.path.exists(os.path.join(cur, "pyproject.toml")) or os.path.exists(
            os.path.join(cur, ".git")
        ):
            return cur

        parent = os.path.dirname(cur)
        if parent == cur:
            # Fallback path from src/functions/internal/
            return os.path.abspath(
                os.path.join(os.path.dirname(__file__), "../../../../")
            )
        cur = parent


if __name__ == "__main__":
    print(get_project_root())
--- File: src/crawler/__init__.py ---
from .run_query import run_query
from .search_google import search_google
from .extract_content import extract_content
from .save_results import save_results

__all__ = [
    "run_query",
    "search_google",
    "extract_content",
    "save_results",
]
--- File: src/crawler/search_google.py ---
import os
from dotenv import load_dotenv
from serpapi import GoogleSearch

def search_google(query, engine="google", num_results=10, language=None, country=None, domain=None):
    """Esegue ricerca Google tramite SerpAPI"""
    load_dotenv()
    api_key = os.environ["SERPAPI_KEY"]

    params = {
        "engine": engine,
        "q": query,
        "api_key": api_key,
        "num": num_results,
        "hl": language,       
        "gl": country,         
        "google_domain": domain  
    }

    results = GoogleSearch(params).get_dict()
    return results.get("organic_results", None)
--- File: src/crawler/run_query.py ---
# core/run_query.py
import os
from dotenv import load_dotenv
import requests
from bs4 import BeautifulSoup

from crawler import search_google
from crawler import extract_content


def run_query(
    query: str,
    *,
    num_results: int = 10,
    language: str = None,
    country: str = None,
    domain: str = None,
) -> list[dict]:
    """Search â†’ extract URLs â†’ download pages â†’ parse content using SerpAPI."""

    load_dotenv()

    # --- 1. Perform SerpAPI search ---
    items = search_google(
        query,
        num_results=num_results,
        language=language,
        country=country,
        domain=domain,
    )

    if not items:
        return []

    urls = [item["link"] for item in items]

    results = []

    # --- 2. Extract content from each page ---
    for url in urls:
        try:
            blocks = extract_content(url)

            # Fallback: extract page title
            try:
                r = requests.get(url, timeout=10)
                soup = BeautifulSoup(r.text, "html.parser")
                title = soup.title.string.strip() if soup.title else None
            except:
                title = None

            if not blocks:
                results.append({
                    "url": url,
                    "status": "empty",
                    "title": title,
                    "content": []
                })
                continue

            results.append({
                "url": url,
                "status": "ok",
                "title": title,
                "content": blocks
            })

        except Exception as e:
            results.append({
                "url": url,
                "status": "error",
                "error": str(e),
                "title": None,
                "content": []
            })

    return results
--- File: src/crawler/save_results.py ---
# core/save_results.py
import json
from pathlib import Path


def save_results(results: list[dict], out_dir: Path) -> None:
    """Save each result into a numbered JSON file inside out_dir/."""

    # Create output directory if it does not exist
    out_dir.mkdir(parents=True, exist_ok=True)

    # Save each page as a separate JSON file
    for idx, page in enumerate(results, start=1):
        file_path = out_dir / f"{idx:03d}_page.json"

        with file_path.open("w", encoding="utf-8") as f:
            json.dump(
                page,
                f,
                indent=2,
                ensure_ascii=False
            )
--- File: src/crawler/extract_content.py ---
import requests
from bs4 import BeautifulSoup
import time

def extract_content(url: str, retries=3, timeout=10):
    """Downloads a webpage and extracts h1, h2, h3, p, li, and text-bearing divs in DOM order."""
    headers = {"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"}

    # Retry loop
    for _ in range(retries):
        try:
            resp = requests.get(url, headers=headers, timeout=timeout)
            resp.raise_for_status()
            break
        except requests.RequestException:
            time.sleep(1)
    else:
        print(f"Error fetching {url}")
        return None

    # CONTENT-TYPE CHECK â†’ skip non-HTML (PDF, images, etc.)
    content_type = resp.headers.get("Content-Type", "").lower()
    if "text/html" not in content_type:
        print(f"Skipping non-HTML content: {url} ({content_type})")
        return None

    # Encoding + parser
    resp.encoding = resp.apparent_encoding
    soup = BeautifulSoup(resp.text, "html.parser")

    tags = ["h1", "h2", "h3", "p"]

    content = []
    for tag in soup.find_all(tags):
        text = tag.get_text(strip=True)

        # Skip empty divs
        if tag.name == "div" and not text:
            continue

        # Skip tiny garbage
        if len(text) < 3:
            continue

        content.append({"tag": tag.name, "text": text})

    return content if content else None
--- File: README.md ---
# Page Download

Python toolset for automated web search and content extraction using SerpAPI.

## Overview
This project performs automated Google searches through SerpAPI, retrieves organic result URLs, and extracts readable content (h1, h2, p) from each webpage.

## Features
- SerpAPI integration for real organic Google results
- Environment-based configuration (`.env`)
- Extraction of semantic HTML elements
- JSON-ready structured output for text analysis
- Modular, minimal design (`functions/` + `main.py`)

## Structure
```text
page_download/
â”œâ”€â”€ functions/
â”‚   â”œâ”€â”€ search_google.py
â”‚   â”œâ”€â”€ extract_content.py
â”œâ”€â”€ main.py
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

## Setup
# 1. Install dependencies
uv pip install google-search-results python-dotenv beautifulsoup4 requests
ini

# 2. Create .env
SERPAPI_KEY=your_api_key

# 3. Run the main script
uv run python main.py

## Example output
Extracted content from: https://carbon.nasa.gov/app_readiness.html

[H1] National Aeronautics and Space Administration
[H2] CMS Project Application Readiness Levels
[P] Start Year 2018 CMS Projects
...

## Notes
SerpAPI returns organic Google results with rich metadata.
Non-HTML files (PDF, images, etc.) are skipped automatically.

## License
MIT License
--- File: pyproject.toml ---
[project]
name = "page-download"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    "beautifulsoup4>=4.14.2",
    "google-api-python-client>=2.187.0",
    "requests>=2.32.5",
]

--- File: output/arredamento_design_torino/001_page.json ---
{
  "url": "https://dichioareadesign.it/",
  "status": "ok",
  "title": "AREA DESIGN | Ristrutturazione e arredamento a Torino da oltre 50 anni",
  "content": [
    {
      "tag": "p",
      "text": "DI CHIO AREA DESIGN"
    },
    {
      "tag": "h1",
      "text": "Arredamento di Design a Torino"
    },
    {
      "tag": "h2",
      "text": "Ristrutturazione e arredamento a Torinoda oltre 50 anni"
    },
    {
      "tag": "p",
      "text": "Con oltre 50 anni di esperienza nella ristrutturazione e arredamento a Torino, Area Design si posiziona come il partner ideale per chi cerca soluzioni su misura e di qualitÃ  per la propria casa o ufficio. Grazie alla profonda conoscenza del settore e allâ€™attenzione per i dettagli, offriamo progetti personalizzati che rispecchiano le esigenze e i desideri di ogni cliente. Per una consulenza dettagliata e un preventivo gratuito, non esitare a contattarci. Affida il tuo spazio a professionisti del settore a Torino."
    },
    {
      "tag": "h2",
      "text": "ristrutturazione e arredamento di eccellenza"
    },
    {
      "tag": "h3",
      "text": "Prodotti di qualitÃ  per il tuo arredamento"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "p",
      "text": "Scopri di piÃ¹"
    },
    {
      "tag": "h2",
      "text": "specialisti delle ristrutturazioni"
    },
    {
      "tag": "h3",
      "text": "ARCHITETTI E PROGETTISTI A TUO SERVIZIO PER UNA CASA ALLâ€™AVANGUARDIA"
    },
    {
      "tag": "p",
      "text": "Area Design Ã¨ specializzata in ristrutturazioni complete e parziali, nonchÃ© in arredamenti di alta qualitÃ  a Torino. Visita il nostro showroom per esplorare lâ€™ampia gamma di servizi, vantaggi esclusivi e promozioni disponibili. Ci differenziamo per la nostra consulenza professionale e per il servizio di rilievo misure offerto senza obblighi, garantendoti unâ€™esperienza unica e personalizzata."
    },
    {
      "tag": "h2",
      "text": "arredo cucina di design"
    },
    {
      "tag": "h3",
      "text": "design e funzionalitÃ "
    },
    {
      "tag": "p",
      "text": "Nasce Logica Celata, lâ€™ultima evoluzione nellâ€™arredo cucina della serie Logica, frutto di unâ€™ingegnosa ricerca volta a ripensare lo spazio e reinventare lâ€™ergonomia. Bar, Cucina e Preparazione sono i modelli disponibili, ognuno proposto con soluzioni e accessori studiati per le specifiche esigenze. Configurazioni dove tutto Ã¨ pronto per essere utilizzato nel modo piÃ¹ efficace possibile e per essere completamente nascosto una volta finita la fase di lavorazione."
    },
    {
      "tag": "p",
      "text": "I sarti della tua casa"
    },
    {
      "tag": "p",
      "text": "Puntiamo ad un servizio di alta qualitÃ  che ci distingua dalla concorrenza. Perseguiamo i valori di modernitÃ , innovazione, stile ed eleganza, che portiamo nelle vostre case con i nostri progetti di interior."
    },
    {
      "tag": "p",
      "text": "01."
    },
    {
      "tag": "p",
      "text": "Ricerchiamo e trattiamo sempre le novitÃ  del settore arredamento"
    },
    {
      "tag": "p",
      "text": "02."
    },
    {
      "tag": "p",
      "text": "Collaboriamo con marchi attenti allâ€™ecosostenibilitÃ  dei prodotti"
    },
    {
      "tag": "p",
      "text": "03."
    },
    {
      "tag": "p",
      "text": "Proponiamo soluzioni ideate su misura su ogni cliente"
    },
    {
      "tag": "p",
      "text": "contattaci"
    },
    {
      "tag": "p",
      "text": "+39 011250210"
    },
    {
      "tag": "p",
      "text": "info@dichioareadesign.it"
    },
    {
      "tag": "p",
      "text": "Via Lucento, 138, 10147 Torino (TO)"
    },
    {
      "tag": "p",
      "text": "LunedÃ¬ 15.30 â€“ 19.00MartedÃ¬ â€“ VenerdÃ¬ 10.00 â€“ 12.30 / 15.30 â€“ 19.00Sabato 10.00 â€“ 12.30 / 14.30 â€“ 18.00"
    },
    {
      "tag": "p",
      "text": "Ho letto e accettato i Termini e le Condizioni dellaPrivacy"
    },
    {
      "tag": "p",
      "text": "Invia"
    },
    {
      "tag": "p",
      "text": "Quello che ci differenzia dalla concorrenza non Ã¨ solo la nostra lunga esperienza maturata in piÃ¹ di 50 anni, ma anche il nostro metodo operativo: collaboriamo con le migliori aziende di arredamento, design ed edilizia a Torino e non solo."
    },
    {
      "tag": "p",
      "text": "HOMESERVIZIOUTLETBLOGLAVORA CON NOI"
    },
    {
      "tag": "p",
      "text": "+39 011250210"
    },
    {
      "tag": "p",
      "text": "info@dichioareadesign.it"
    },
    {
      "tag": "p",
      "text": "Via Lucento, 138, 10147 Torino (TO)"
    },
    {
      "tag": "p",
      "text": "Â© 2024 AREA DESIGN â€“ DI CHIO| P.IVA 07169540015 | Tutti i diritti riservati |Informativa Privacy|Cookie Policy| Developed byDiamondweb S.p.A."
    }
  ]
}
--- File: output/arredamento_design_torino/003_page.json ---
{
  "url": "https://www.zero30arredamenti.net/",
  "status": "ok",
  "title": "403 Forbidden",
  "content": [
    {
      "tag": "p",
      "text": "QUALITA' E DESIGN"
    },
    {
      "tag": "h1",
      "text": "Arredamenti Torino: Cucine, Letti, Armadi. Zero30 Arredamenti. Arredo design Torino"
    },
    {
      "tag": "h2",
      "text": "Arredamenti Torino: ti aiutiamo a realizzare la casa dei tuoi sogni."
    },
    {
      "tag": "p",
      "text": "Domenica 31 marzo: Zero30 arredamenti Ã¨ stato inserito nellâ€™alboEPIC, esercizi di prossimitÃ  di interesse collettivo della cittÃ  di Torino."
    },
    {
      "tag": "p",
      "text": "CliccaQUIper entrare nel sito."
    },
    {
      "tag": "p",
      "text": "Zero30 Arredamentifesteggia 20 anni di design e presenta le idee regalo di Natale:"
    },
    {
      "tag": "p",
      "text": "GiovedÃ¬13 novembre 2025,Zero30 Arredamenticelebra i suoi ventâ€™anni di attivitÃ con un evento aperto a clienti e amici presso lo showroom divia San Quintino 6, Torino,dalle17.30alle20.30."
    },
    {
      "tag": "p",
      "text": "Durante la serata sarÃ  possibile brindare insieme a questo importante traguardo e scoprire in anteprimaleproposte Zero30 per i regali di Natale, selezionate con passione e gusto dallasignora Rosa Panarelli, anima del negozio."
    },
    {
      "tag": "p",
      "text": "Unâ€™occasione per vivere la bellezza del design e festeggiare ventâ€™anni di stile firmatoZero30 Arredamenti."
    },
    {
      "tag": "h3",
      "text": "I vostri esperti di arredamento vi aspettano!Rosa, Emanuela, Pietro e Massimiliano."
    },
    {
      "tag": "h2",
      "text": "Arredamenti Torino: Zero30 offre sconti e pronta consegna sui prodotti esposti di design."
    },
    {
      "tag": "h3",
      "text": "Arredamenti Torino: prenota il tuo appuntamento"
    },
    {
      "tag": "p",
      "text": "Esperti di arredo design Torino? Prenota un appuntamento con uno dei nostri architetti. Un appuntamento personalizzato e senza impegno, nel quale potrai discutere dellâ€™arredamento e del tuo progetto di ristrutturazione."
    },
    {
      "tag": "h3",
      "text": "CHIAMA IL NUMERO: 011.4407421"
    },
    {
      "tag": "h3",
      "text": "Arredamenti Torino: le vostre recensioni."
    },
    {
      "tag": "p",
      "text": "Che dire? Un team spaziale che fa della professionalitÃ , competenza e attenzione alle necessitÃ  del cliente la sua forza! Ci hanno seguito nel progetto di arredo del nostro appartamento e... Leggi tuttoabbiamo acquistato da loro la cucina, il bagno, il soggiorno, la camera da letto e altre armadiature. Il risultato Ã¨ strepitoso!!! Siamo rimasti pienamente soddisfatti dal loro progetto accurato (grazie Pietro ed Emanuela!!!), dai loro marchi di qualitÃ  e stile e, non per ultimo, dalla bravura dei loro installatori! Grazie Zero30... continuate cosÃ¬ e torneremo sicuramente a trovarvi! Francesco, Lucy & Samira"
    },
    {
      "tag": "p",
      "text": "A Five-Star Experience from Start to Finish!\n\nWe recently purchased our bedroom closet here, and we couldnâ€™t be happier with the entire experience! From the very first consultation to the final... Leggi tuttoinstallation, the team was nothing short of exceptional.\n\nThe design phase was handled with incredible patience, professionalism, and attention to detail. They took the time to truly understand our needs and preferences, offering thoughtful solutions that maximized both style and functionality. Every step of the process felt personalized, ensuring that the final design was exactly what we had envisionedâ€”if not better!\n\nThe installation team was outstandingâ€”true professionals who worked with precision and care.\n\nA special and heartfelt thank you to Rosa, whose expertise, patience, and kindness made this journey an absolute pleasure. Her guidance and dedication ensured a seamless experience, and we are beyond grateful.\n\nIf youâ€™re looking for high-quality furniture and top-tier service, look no further. We highly recommend them and will definitely be returning for future projects!"
    },
    {
      "tag": "p",
      "text": "Mi sono rivolto a Zero30 lo scorso luglio con alcuni obiettivi abbastanza ambiziosi: ristrutturare e arredare completamente un appartamento rimasto fermo agli anni '90, in 6 mesi e con un... Leggi tuttobudget da gestire in maniera oculata. Dopo essere finalmente entrato nel nuovo alloggio, non posso che ritenermi molto soddisfatto della loro consulenza. Il team di Pietro Ã¨ stato in grado di aiutarmi in tutto: dal trovare le persone adatte a ogni intervento, alla progettazione di ogni ambiente. Quest'ultimo aspetto Ã¨ sicuramente il loro punto forte: fin dai primi incontri ho potuto constatare quanto le soluzioni proposte fossero ben studiate e soprattutto volte a valorizzare lo spazio, riuscendo ad andare piÃ¹ in profonditÃ  delle mie richieste, proponendo soluzioni migliori e inaspettate. Sono, infine, persone molto gentili e disponibili."
    },
    {
      "tag": "p",
      "text": "Mi sono rivolto a Zero30 lo scorso luglio con alcuni obiettivi abbastanza ambiziosi: ristrutturare e arredare completamente un appartamento rimasto fermo agli anni '90, in 6 mesi e con un... Leggi tuttobudget da gestire in maniera oculata. Dopo essere finalmente entrato nel nuovo alloggio, non posso che ritenermi molto soddisfatto della loro consulenza. Il team di Pietro Ã¨ stato in grado di aiutarmi in tutto: dal trovare le persone adatte a ogni intervento, alla progettazione di ogni ambiente. Quest'ultimo aspetto Ã¨ sicuramente il loro punto forte: fin dai primi incontri ho potuto constatare quanto le soluzioni proposte fossero ben studiate e soprattutto volte a valorizzare lo spazio, riuscendo ad andare piÃ¹ in profonditÃ  delle mie richieste, proponendo soluzioni migliori e inaspettate. Sono, infine, persone molto gentili e disponibili."
    },
    {
      "tag": "p",
      "text": "SONO CAPITATA NEL MESE DI  APRILE IN QUESTO NEGOZIO DI ARREDAMENTI CON L'IDEA DI ACQUISTARE UNA CUCINA SERIA PER LA MIA CASA. IO E IL MIO COMPAGNO SIAMO STATI... Leggi tuttoACCOLTI MOLTO BENE DALL' ARCHITETTO EMANUELA AUDI LA QUALE CI HA ILLUSTRATO UN MONDO A NOI SCONOSCIUTO MA, PIENO DI COSE DA SCOPRIRE FACENDOCI CONOSCERE LE CUCINE LAGO. STUPENDE, UNICHE DA SOGNO MA, AHIME' NON MOLTO ACCESSIBILI ALLE NOSTRE TASCHE. COSI' SIAMO ENTRATI NEL MONDO COPATLIFE CON 1000 POSSIBILITA' E IDEE PER LA NOSTRA STRANA E VECCHIA CUCINA. CI SIAMO SENTITI CURATI, ASSISTITI IN OGNI SENSO PERCHE' DOPO DUE SETTIMANE DAL PRIMO INCONTRO AVEVAMO GI' IL PREVENTIVO E IL PROGETTO DELLA CUCINA. ABBIAMO FIRMATO PERCHE' ERAVAMO MOLTO SODDISFATTI DEL LAVORO CHE AVEVANO SVOLTO. POI L'ARCHITETTO E' VENUTA CON IL SUO TITOLARE A FARE UN SOPRALLUOGO DEFINITIVO PRENDENDO ANCORA LE MISURE E DOPO CIRCA 2 MESI LA CUCINA E' ARRIVATA.  CI E' STATA DA UNA FANTASTICA SQUADRA DI MONTATORI SIMPATICI E MOLTO PROFESSIONALI DATA LE CONDIZIONI DEI MURI DELLA NOSTRA CUCINA. ORA TUTTO FUNZIONA. L'ASSISTENZA POST VENDITA E' STATA FANTASTICA. NEGOZIO MOLTO CONSIGLIATO, PERCHE' GENTILE, DISPONIBILI E SOPRATTUTTO SERI. BUONA CUCINA  A TUTTI. MICAELA MULASSANO"
    },
    {
      "tag": "p",
      "text": "SONO CAPITATA NEL MESE DI  APRILE IN QUESTO NEGOZIO DI ARREDAMENTI CON L'IDEA DI ACQUISTARE UNA CUCINA SERIA PER LA MIA CASA. IO E IL MIO COMPAGNO SIAMO STATI... Leggi tuttoACCOLTI MOLTO BENE DALL' ARCHITETTO EMANUELA AUDI LA QUALE CI HA ILLUSTRATO UN MONDO A NOI SCONOSCIUTO MA, PIENO DI COSE DA SCOPRIRE FACENDOCI CONOSCERE LE CUCINE LAGO. STUPENDE, UNICHE DA SOGNO MA, AHIME' NON MOLTO ACCESSIBILI ALLE NOSTRE TASCHE. COSI' SIAMO ENTRATI NEL MONDO COPATLIFE CON 1000 POSSIBILITA' E IDEE PER LA NOSTRA STRANA E VECCHIA CUCINA. CI SIAMO SENTITI CURATI, ASSISTITI IN OGNI SENSO PERCHE' DOPO DUE SETTIMANE DAL PRIMO INCONTRO AVEVAMO GI' IL PREVENTIVO E IL PROGETTO DELLA CUCINA. ABBIAMO FIRMATO PERCHE' ERAVAMO MOLTO SODDISFATTI DEL LAVORO CHE AVEVANO SVOLTO. POI L'ARCHITETTO E' VENUTA CON IL SUO TITOLARE A FARE UN SOPRALLUOGO DEFINITIVO PRENDENDO ANCORA LE MISURE E DOPO CIRCA 2 MESI LA CUCINA E' ARRIVATA.  CI E' STATA DA UNA FANTASTICA SQUADRA DI MONTATORI SIMPATICI E MOLTO PROFESSIONALI DATA LE CONDIZIONI DEI MURI DELLA NOSTRA CUCINA. ORA TUTTO FUNZIONA. L'ASSISTENZA POST VENDITA E' STATA FANTASTICA. NEGOZIO MOLTO CONSIGLIATO, PERCHE' GENTILE, DISPONIBILI E SOPRATTUTTO SERI. BUONA CUCINA  A TUTTI. MICAELA MULASSANO"
    },
    {
      "tag": "p",
      "text": "Esperienza perfetta! Oltre la professionalitÃ ; Pietro e il suo team ti aiutano in tutto e sono anche delle bellissime persone. Consigliatissimi!"
    },
    {
      "tag": "p",
      "text": "Esperienza perfetta! Oltre la professionalitÃ ; Pietro e il suo team ti aiutano in tutto e sono anche delle bellissime persone. Consigliatissimi!"
    },
    {
      "tag": "p",
      "text": "Negozio meraviglioso perosonale gentile e preparato Complimenti per tutto alla signora Rosa"
    },
    {
      "tag": "p",
      "text": "Cercavamo informazioni sui forni Neff ed abbiamo trovato grande gentilezza e professionalitÃ . Consigliato."
    },
    {
      "tag": "p",
      "text": "Ottimi professionisti. Vaste soluzioni ai tuoi desideri."
    },
    {
      "tag": "p",
      "text": "Negozio meraviglioso perosonale gentile e preparato\nComplimenti per tutto alla signora Rosa"
    },
    {
      "tag": "p",
      "text": "I sogni diventano realtÃ ! Ci siamo rivolti a Zero.30 per l'acquisto completo di tutti i mobili per la nostra casa; cucina,salone e 2 cabine armadio. Soluzioni personalizzate e progettazione degli... Leggi tuttoambienti come nel nostro caso. Grazie all'architetto Occhetto per averci seguito nelle prime fasi di cantiere con la sua competenza,grazie anche a Rosa per la sua infinita gentilezza e un ringraziamento particolare ad Emanuela che con la sua tanta pazienza e la sua professionalitÃ  ci ha seguito anche lei fin dall'inizio e in tutti i dettagli, e pazientemente ci ha guidati nella scelta di tutti i mobili...in particolare nella cucina dei miei sogni che adesso Ã¨ diventata realtÃ . Infine per ultimo (ma non di poca importanza)un grazie anche ai montatori,gentili,disponibili e professionali. Ci siamo trovati molto bene,di piÃ¹ non potevamo chiedere.Dire che siamo felici Ã¨ dire poco. Ãˆ andato tutto alla perfezione.Grazie di cuore a tutti voi"
    },
    {
      "tag": "p",
      "text": "Mi sono rivolta a Zero.30 per l'acquisto di una cucina su suggerimento di amici e mai consiglio fu piÃ¹ azzeccato! Ho trovato una professionalitÃ  e una competenza rare sia in... Leggi tuttofase di progettazione e finalizzazione che di montaggio. Una menzione speciale a Emanuela e ai bravissimi montatori!"
    },
    {
      "tag": "p",
      "text": "Che dire .... meglio di cosi !! Gentilezza, competenza e professionalitÃ  da parte di tutto lo staff. Sono stato seguito dall'architetto Pietro Occhetto che ha saputo capire la mia vera... Leggi tuttoesigenza e con esperienza mi ha portato alla soluzione giusta nel vestire la mia cucina ..  Grazie !"
    },
    {
      "tag": "h2",
      "text": "Arredamenti Torino: Cucine"
    },
    {
      "tag": "p",
      "text": "Arredamenti Torino: le nostre cucine di design. Zero30 Ã¨ da oltre 10 anni specialista per le cucine a Torino. Proponiamo per la vendita cucine di design, interamente progettate su misura per le vostre esigenze."
    },
    {
      "tag": "p",
      "text": "Per le cucine, offriamo un vero e proprio servizio di consulenza personalizzata. Parlerete con i nostri architetti che prenderanno visione degli spazi a vostra disposizione e vi consiglieranno la soluzione migliore.Â Tutte le cucine proposte sono altamente modulabili, e si adattano ad ogni esigenza, sia in termini di spazio che di gusti personali."
    },
    {
      "tag": "p",
      "text": "GUARDA LE NOSTRE CUCINE"
    },
    {
      "tag": "h2",
      "text": "Armadi e cabine armadio di arredamento Torino"
    },
    {
      "tag": "p",
      "text": "Armadi e cabine armadio a torino. Ci occupiamo da sempre di armadi e cabine armadio e siamo molto attenti a progettare le vostre cabine armadio, adattandole a qualsiasi spazio abitativo."
    },
    {
      "tag": "p",
      "text": "Abbiamo a disposizione le migliori marche del settore: armadi angolari, armadi per locali mansardati, armadi su misura, armadi integrati nelle librerie, armadi scorrevoli, armadi a libro, armadi a battente, armadi decorabili come la parete."
    },
    {
      "tag": "p",
      "text": "GUARDA I NOSTRI ARMADI"
    },
    {
      "tag": "h2",
      "text": "Outlet Arredamento"
    },
    {
      "tag": "p",
      "text": "Zero30 rinnova continuamente la propria esposizione. Per questo motivo ha necessitÃ  di vendere come occasioni i mobili che sono stati esposti (ma mai utilizzati) a prezzi di outlet. E sono tutte grandi firme dellâ€™arredamento di design."
    },
    {
      "tag": "p",
      "text": "Armadi, letti, cucine, salotti, tavoli e sedie. Sono solo alcuni dei mobili che, di volta in volta, vendiamo a prezzi di outlet; con sconti che arrivano sino al 40% Se sei indeciso sulla tua scelta sapremo indicarti i migliori arredi di design, per completare il tuo arredamento."
    },
    {
      "tag": "p",
      "text": "OUTLET ARREDAMENTO"
    },
    {
      "tag": "h2",
      "text": "Porte scorrevoli di arredamento"
    },
    {
      "tag": "p",
      "text": "Zero30 propone per porte interne e divisioni scorrevoli di arredamento di design, un marchio di design leader nel settore: si tratta di HenryGlass. Zero30 propone la sua intera collezione sia per le divisioni scorrevoli che per le porte interne. Tutte realizzate in vetro."
    },
    {
      "tag": "p",
      "text": "GUARDA LE NOSTRE PORTE SCORREVOLI TORINO"
    },
    {
      "tag": "h2",
      "text": "Mobili di design per uffici e studi professionali"
    },
    {
      "tag": "p",
      "text": "Cerchi soluzioni dâ€™arredo che rendano il tuo ambiente di lavoro piÃ¹ funzionale, elegante e accogliente? Lâ€™arredamento di design per uffici unisce estetica e praticitÃ  per creare spazi professionali moderni, ben organizzati e pensati per migliorare il comfort e la produttivitÃ . Scopri le proposte su misura per ogni esigenza: dalla postazione operativa allâ€™area direzionale, fino agli spazi di accoglienza."
    },
    {
      "tag": "p",
      "text": "âž¡ï¸ Entra nella sezione dedicata allâ€™arredamento di design per ufficie trova lâ€™idea giusta per rinnovare il tuo spazio professionale."
    },
    {
      "tag": "h3",
      "text": "Arredamenti Torino: I nostri brand di arredo design Torino."
    },
    {
      "tag": "p",
      "text": "Arredamenti Torino: i marchi che trattiamo per la vostra casa. Zero30 Ã¨ lieto di proporre ai suoi clienti, le migliori selezioni di mobili delle seguenti marche:modulnova,binova,copat-life,moroso,de rosso,lema,flou,minotti,zanotta,verzelloni,sangiacomo,novamobili,caccaro,campeggi,natevo,ditreitalia,desalto,porada,bonaldo,glas italia,fiam,horm,tonelli design,miniforms,bontempi,extendo,vistosi,mmlampadari."
    },
    {
      "tag": "h3",
      "text": "Zero30 arredamenti presenta MIDJ"
    },
    {
      "tag": "p",
      "text": "Zero30 Arredamenti presenta MIDJ Nel mondo dellâ€™arredamento contemporaneo, il connubio tra estetica, funzionalitÃ  e qualitÃ  rappresenta la chiave..."
    },
    {
      "tag": "h3",
      "text": "Invito 20 anni di Zero30"
    },
    {
      "tag": "p",
      "text": "Zero30 Arredamenti festeggia 20 anni di bellezza e design a Torino GiovedÃ¬ 13 novembre 2025, Zero30 Arredamenti invita..."
    },
    {
      "tag": "h3",
      "text": "Arredamento Torino: progettazione e personalizzazione cucine a Torino"
    },
    {
      "tag": "p",
      "text": "La cucina Ã¨ il cuore della casa: qui funzionalitÃ  e bellezza devono convivere in equilibrio. Con Zero30 Cucine..."
    },
    {
      "tag": "h3",
      "text": "Arredamento Torino: lâ€™incontro tra design e artigianato per una casa unica"
    },
    {
      "tag": "p",
      "text": "Progettare gli spazi della propria casa Ã¨ molto piÃ¹ che scegliere mobili funzionali: Ã¨ dare forma alla propria..."
    },
    {
      "tag": "h3",
      "text": "Grande novitÃ  arredamento Torino di design: cucina Skill"
    },
    {
      "tag": "p",
      "text": "Grande novitÃ  arredamento Torino di design: cucina Skill Quando si parla di cucine di design a Torino, il..."
    },
    {
      "tag": "h3",
      "text": "Arredamento Torino: il comfort di design"
    },
    {
      "tag": "p",
      "text": "Se sei alla ricerca di un divano di alta gamma che unisca design moderno e comfort assoluto, il..."
    },
    {
      "tag": "h3",
      "text": "PerchÃ¨ ZERO.30"
    },
    {
      "tag": "p",
      "text": "PerchÃ© grazie alla nostra esperienza e la nostra specializzazione forniamo mobili per Torino e provincia, soluzioni dâ€™arredamento in grado di dare â€œpersonalitÃ â€ a ogni ambiente, in cittÃ , in campagna, nella casa vacanze.â€œProgetto e Personalizzazione sono la nostra strategia per rendere unica la vostra casa, a qualsiasi livello di spesa."
    },
    {
      "tag": "p",
      "text": "La â€œqualitÃ â€ Ã¨ alla base del prodotto: con la garanzia di proporre solo arredamenti dâ€™eccellenza, secondo i valori della tradizione artigianale italiana, quella che si distingue per lâ€™avanguardia dello stile e del disegno, la scelta delle materie prime, la qualitÃ  del prodotto costruito totalmente in Italia."
    },
    {
      "tag": "h3",
      "text": "Arredamenti Torino: la Filosofia"
    },
    {
      "tag": "p",
      "text": "La Casa, luogo fisico ma anche espressione dellâ€™anima e dei sentimenti: un insieme di emozioni, rifugio, fondamento profondo nostro e della famiglia, che raccoglie il nostro essere, si modella su di noi e simbolicamente lo trasmette."
    },
    {
      "tag": "p",
      "text": "Lâ€™interior Design per noi Ã¨ la capacitÃ  fondata su anni di studi e di specializzazione, che consente di dare allâ€™ambiente â€œpersonalitÃ â€, interpreta i gusti e le aspettative (funzionali, emotive, rappresentative) attraverso lâ€™integrazione fra i materiali, colori, arredi, tessuti, design, mode, creando lâ€™ambiente perfetto per chi lo abita."
    },
    {
      "tag": "h3",
      "text": "Link Utili"
    },
    {
      "tag": "h3",
      "text": "In Evidenza"
    },
    {
      "tag": "h2",
      "text": "Profitez de Skrill pour jouer"
    },
    {
      "tag": "p",
      "text": "Rejoignez uncasino paiement Skrillet bÃ©nÃ©ficiez dâ€™une mÃ©thode sÃ»re pour vos dÃ©pÃ´ts. Rapide, confidentielle et simple, elle vous laisse plus de temps pour profiter du jeu."
    },
    {
      "tag": "p",
      "text": "To enjoy a seamless betting experience, you caninstall the Hollywoodbets app for Androidand start placing your bets today."
    }
  ]
}
--- File: output/arredamento_design_torino/002_page.json ---
{
  "url": "https://altagammainterior.it/",
  "status": "ok",
  "title": "Arredamenti di Design a Torino - Alta Gamma Interior Design",
  "content": [
    {
      "tag": "h3",
      "text": "Living"
    },
    {
      "tag": "h3",
      "text": "Dining"
    },
    {
      "tag": "h3",
      "text": "Zona Notte"
    },
    {
      "tag": "h3",
      "text": "Oggetti decorativi"
    },
    {
      "tag": "h3",
      "text": "Oggetti funzionali"
    },
    {
      "tag": "h3",
      "text": "Tessili"
    },
    {
      "tag": "h3",
      "text": "Outdoor dining"
    },
    {
      "tag": "h3",
      "text": "Outdoor lounge"
    },
    {
      "tag": "h3",
      "text": "Outdoor dÃ©cor"
    },
    {
      "tag": "h3",
      "text": "Illuminazione decorativa"
    },
    {
      "tag": "h3",
      "text": "Illuminazione da esterno"
    },
    {
      "tag": "h3",
      "text": "Prodotti ufficio"
    },
    {
      "tag": "h3",
      "text": "Allestimenti ufficio"
    },
    {
      "tag": "h3",
      "text": "PROGETTI"
    },
    {
      "tag": "p",
      "text": "Progetti dâ€™arredo per ogni esigenza. FunzionalitÃ , atmosfera, stile ed eleganza."
    },
    {
      "tag": "h3",
      "text": "PRODOTTI"
    },
    {
      "tag": "p",
      "text": "Ampia offerta di prodotti e soluzioni per la casa e lâ€™ufficio, con possibilitÃ  di personalizzazione."
    },
    {
      "tag": "h3",
      "text": "SHOWROOM"
    },
    {
      "tag": "p",
      "text": "Ampia esposizione di 800 mq, disposta su tre piani, con le nostre proposte per il living, la cucina, la zona notte, arredo bagno, ufficio e outdoor."
    },
    {
      "tag": "h3",
      "text": "EXPORT"
    },
    {
      "tag": "p",
      "text": "Arrediamo i vostri ambienti in Italia come nel resto del mondo."
    },
    {
      "tag": "h3",
      "text": "SERVIZI"
    },
    {
      "tag": "p",
      "text": "Consulenza dâ€™arredo, progettazione dâ€™interni, forniture ufficio, contract, liste nozze, consegne e montaggi, assistenza."
    },
    {
      "tag": "p",
      "text": "Corso Galileo Ferraris 210121 Torino (TO)"
    },
    {
      "tag": "p",
      "text": "P.IVA 16469471003"
    },
    {
      "tag": "p",
      "text": "Privacy Policy"
    }
  ]
}
--- File: main.py ---
# main.py
from pathlib import Path
from crawler import run_query, save_results

# Search parameters
query = "arredamento design torino"
num_results = 3
language = "it"
country = "it"
domain = "google.it"

# ---- CORE EXECUTION ----
results = run_query(
    query,
    num_results=num_results,
    language=language,
    country=country,
    domain=domain,
)
print("Num results:", len(results))

# ---- SAVE RESULTS ----
# Simple slug for folder name
folder_name = query.replace(" ", "_")
out_dir = Path("output") / folder_name
save_results(results, out_dir)

# ---- TEST SEARCH (same as original) ----
if results:
    print("Top URLs:")
    for i, page in enumerate(results[:10], start=1):
        print(f"{i}. {page['url']}")
else:
    print("No result found")

# ---- TEST EXTRACT DATA ----
page_number = 1
entries = 10

if not results:
    print("No extractable content found.")
elif page_number >= len(results):
    print(f"Page {page_number} out of range (only {len(results)} available).")
else:
    page = results[page_number]
    content = page.get("content", [])

    if not content:
        print("No readable content found.")
    else:
        print(f"\nExtracted content from: {page['url']}\n")
        for block in content[:entries]:
            print(f"[{block['tag'].upper()}] {block['text']}")